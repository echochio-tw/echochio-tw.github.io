I"‡<p>PHP é€£æ­£èˆªè³‡æ–™åº«å–è³‡æ–™</p>

<p>æˆ‘ä¹Ÿä¸çŸ¥è£äº†é‚£å€‹å¥—ä»¶ å°±æŠŠå¥—ä»¶åˆ—å‡ºä¾† â€¦</p>

<p>æ‡‰è©²æ˜¯ php-pdo , php-sqlsrv , php-odbc</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>php-pdo-7.1.18-1.el7.remi.x86_64
php-mysqlnd-7.1.18-1.el7.remi.x86_64
php-gd-7.1.18-1.el7.remi.x86_64
php-sqlsrv-5.2.0-1.el7.remi.7.1.x86_64
php-json-7.1.18-1.el7.remi.x86_64
php-devel-7.1.18-1.el7.remi.x86_64
php-mbstring-7.1.18-1.el7.remi.x86_64
php-process-7.1.18-1.el7.remi.x86_64
php-pecl-zip-1.15.2-1.el7.remi.7.1.x86_64
php-fedora-autoloader-1.0.0-1.el7.remi.noarch
php-common-7.1.18-1.el7.remi.x86_64
php-xml-7.1.18-1.el7.remi.x86_64
php-7.1.18-1.el7.remi.x86_64
php-mcrypt-7.1.18-1.el7.remi.x86_64
php-snmp-7.1.18-1.el7.remi.x86_64
php-pear-1.10.5-6.el7.remi.noarch
php-cli-7.1.18-1.el7.remi.x86_64
php-xmlrpc-7.1.18-1.el7.remi.x86_64
php-odbc-7.1.18-1.el7.remi.x86_64
php-soap-7.1.18-1.el7.remi.x86_64
php-pdo-dblib-7.1.18-1.el7.remi.x86_64
php-ldap-7.1.18-1.el7.remi.x86_64
</code></pre></div></div>

<p>php å¦‚ä¸‹</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?php</span>
<span class="c1">// ä¸»æ©Ÿä½å€</span>
<span class="nv">$host</span> <span class="o">=</span> <span class="s1">'192.168.XX.XX'</span><span class="p">;</span>
<span class="c1">// PORT</span>
<span class="nv">$port</span> <span class="o">=</span> <span class="s1">'1433'</span><span class="p">;</span>
<span class="c1">// è³‡æ–™åº«åç¨±</span>
<span class="nv">$dbname</span> <span class="o">=</span> <span class="s1">'CHICompXX'</span><span class="p">;</span>
<span class="c1">// å¸³è™Ÿ</span>
<span class="nv">$user</span> <span class="o">=</span> <span class="s1">'XXXXXX'</span><span class="p">;</span>
<span class="c1">// å¯†ç¢¼</span>
<span class="nv">$passwd</span> <span class="o">=</span> <span class="s1">'XXXXXX'</span><span class="p">;</span>

<span class="nv">$serverName</span> <span class="o">=</span> <span class="nv">$host</span><span class="p">;</span>
<span class="nv">$connectionInfo</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span> <span class="s2">"Database"</span><span class="o">=&gt;</span><span class="nv">$dbname</span><span class="p">,</span> <span class="s2">"UID"</span><span class="o">=&gt;</span><span class="nv">$user</span><span class="p">,</span> <span class="s2">"PWD"</span><span class="o">=&gt;</span><span class="nv">$passwd</span><span class="p">);</span>
<span class="nv">$conn</span> <span class="o">=</span> <span class="nb">sqlsrv_connect</span><span class="p">(</span> <span class="nv">$serverName</span><span class="p">,</span> <span class="nv">$connectionInfo</span> <span class="p">);</span>
<span class="k">if</span><span class="p">(</span> <span class="nv">$conn</span> <span class="o">===</span> <span class="kc">false</span> <span class="p">)</span> <span class="p">{</span>
    <span class="k">die</span><span class="p">(</span> <span class="nb">print_r</span><span class="p">(</span> <span class="nb">sqlsrv_errors</span><span class="p">(),</span> <span class="kc">true</span><span class="p">));</span>
<span class="p">}</span>

<span class="nv">$sql</span> <span class="o">=</span> <span class="s2">"SELECT ProdID,ProdName FROM ["</span> <span class="o">.</span> <span class="nv">$dbname</span> <span class="o">.</span> <span class="s2">"].[dbo].[comProduct]"</span><span class="p">;</span>
<span class="nv">$stmt</span> <span class="o">=</span> <span class="nb">sqlsrv_query</span><span class="p">(</span> <span class="nv">$conn</span><span class="p">,</span> <span class="nv">$sql</span> <span class="p">);</span>
<span class="k">if</span><span class="p">(</span> <span class="nv">$stmt</span> <span class="o">===</span> <span class="kc">false</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">die</span><span class="p">(</span> <span class="nb">print_r</span><span class="p">(</span> <span class="nb">sqlsrv_errors</span><span class="p">(),</span> <span class="kc">true</span><span class="p">)</span> <span class="p">);</span>
<span class="p">}</span>

<span class="k">while</span><span class="p">(</span> <span class="nv">$row</span> <span class="o">=</span> <span class="nb">sqlsrv_fetch_array</span><span class="p">(</span> <span class="nv">$stmt</span><span class="p">,</span> <span class="nx">SQLSRV_FETCH_ASSOC</span><span class="p">)</span> <span class="p">)</span> <span class="p">{</span>
      <span class="k">echo</span> <span class="nv">$row</span><span class="p">[</span><span class="s1">'ProdID'</span><span class="p">]</span><span class="o">.</span><span class="s2">", "</span><span class="o">.</span><span class="nv">$row</span><span class="p">[</span><span class="s1">'ProdName'</span><span class="p">]</span><span class="o">.</span><span class="s2">"&lt;br /&gt;"</span><span class="p">;</span>
      <span class="k">echo</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">;</span>
<span class="p">}</span>

<span class="nb">sqlsrv_free_stmt</span><span class="p">(</span> <span class="nv">$stmt</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre></div></div>
:ET