I"å<p>BBR éœ€è¦å°‡ CentOS 7 æ©Ÿå™¨çš„å…§æ ¸å‡ç´šåˆ° 4.9.0 ä»¥å¾Œçš„ç‰ˆæœ¬</p>

<p>ä¸çŸ¥ç‚ºå•¥è£ æ–°ç‰ˆæ ¸å¿ƒæˆ‘çš„ CentOS é–‹ä¸äº†æ©Ÿ â€¦å¯èƒ½æ˜¯ VM çš„åŸå› </p>

<p>æ‡‰è©²æ˜¯ vmware çš„å•é¡Œ â€¦. åªèƒ½æ”¯æ´åˆ°  kernel 4.12 â€¦..</p>

<p>å®‰è£ kernel 4.13 å°±  é–‹ä¸äº†æ©Ÿ â€¦.. XD</p>

<p>(åƒè€ƒ â€¦.ä¹‹å‰æ–‡ç«  â€¦.</p>

<p>https://echochio-tw.github.io/2017/02/Centos-7-%E6%8F%9B-kernel-4.X/</p>

<p>æ‰‹å‹•è£ kernel-ml-4.9.9-1.el7.elrepo.x86_64.rpm å¯ä»¥é–‹æ©Ÿ</p>

<p>ä¹Ÿè£äº†  kernel 4.9.9 ç›¸é—œå¥—ä»¶</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>kernel-ml-4.9.9-1.el7.elrepo.x86_64.rpm
kernel-ml-headers-4.9.9-1.el7.elrepo.x86_64.rpm
kernel-ml-tools-4.9.9-1.el7.elrepo.x86_64.rpm
kernel-ml-tools-libs-4.9.9-1.el7.elrepo.x86_64.rpm
</code></pre></div></div>

<p>è£å¥½å¾Œ</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># uname -a
Linux proxy 4.9.9-1.el7.elrepo.x86_64 #1 SMP Thu Feb 9 11:43:40 EST 2017 x86_64 x86_64 x86_64 GNU/Linux
</code></pre></div></div>

<p>BBR ç®—æ³•ä¿®æ”¹ sysctl é…ç½®</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>echo 'net.core.default_qdisc=fq' | sudo tee -a /etc/sysctl.conf
echo 'net.ipv4.tcp_congestion_control=bbr' | sudo tee -a /etc/sysctl.conf
sudo sysctl -p
</code></pre></div></div>

<p>ç¢ºèªå•Ÿç”¨ BBR â€¦. çœ‹åˆ°é¡¯ç¤º bbr</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># sysctl net.ipv4.tcp_available_congestion_control
net.ipv4.tcp_available_congestion_control = bbr cubic reno
# sysctl -n net.ipv4.tcp_congestion_control
bbr
# lsmod | grep bbr
tcp_bbr                16384  10
</code></pre></div></div>

<p>é‡é–‹æˆ‘çš„æ©Ÿå™¨ nginx æœå‹™é–‹å¾ˆä¹… â€¦â€¦ æˆ‘å°‡fireward æœå‹™é—œé–‰å°±å¥½äº† â€¦..
ç”¨ iptable å»ç®¡å§ â€¦</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>systemctl disable firewalld
systemctl stop firewalld
</code></pre></div></div>
:ET