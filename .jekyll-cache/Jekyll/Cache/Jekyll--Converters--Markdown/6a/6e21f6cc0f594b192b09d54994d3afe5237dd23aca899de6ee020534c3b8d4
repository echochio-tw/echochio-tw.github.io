I"<p>ansible 目錄如下</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.
├── ansible.cfg
├── date_local_shell.sh
├── date_remote_shell.sh
├── inventory
│   └── host.xml
├── roles
│   └── clean
│       └── task
└── shell
    └── date.sh
</code></pre></div></div>

<p>host.xml</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dy:
  vars:
    ansible_port: 22
    ansible_user: root
    ansible_password: 'UxxxxxUUUUU'
    gateway_key: 'dy'

  hosts:
    dy01:
      ansible_host: 192.168.0.11

    dy02:
      ansible_host: 192.168.0.12

    dy03:
      ansible_host: 192.168.0.13

    dy04:
      ansible_host: 192.168.0.14
</code></pre></div></div>

<p>shell/date.sh</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>date
</code></pre></div></div>

<p>在遠端 執行ansible server 端 script
date_local_shell.sh</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ansible $1 -m script -a 'shell/date.sh'
</code></pre></div></div>

<p>在遠端 執行遠端 shell script 
date_remote_shell.sh</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ansible $1 -m shell -a "date"
</code></pre></div></div>

<p>ansible.cfg</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[defaults]
inventory      = /home/ansible/inventory
</code></pre></div></div>
:ET